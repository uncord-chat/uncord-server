# Core
SERVER_NAME="My Community"
SERVER_DESCRIPTION=""
SERVER_URL="https://chat.example.com"
SERVER_PORT=8080
SERVER_ENV=production

# Database
DATABASE_URL="postgres://uncord:change-me-in-production@postgres:5432/uncord?sslmode=disable"
DATABASE_MAX_CONNS=25
DATABASE_MIN_CONNS=5
DB_PASSWORD=change-me-in-production

# Valkey
VALKEY_URL="valkey://valkey:6379/0"
VALKEY_PASSWORD=""

# Auth
JWT_SECRET="change-me-in-production"
JWT_ACCESS_TTL=900
JWT_REFRESH_TTL=604800
ARGON2_MEMORY=65536
ARGON2_ITERATIONS=3
ARGON2_PARALLELISM=2
ARGON2_SALT_LENGTH=16
ARGON2_KEY_LENGTH=32

# Storage
STORAGE_BACKEND=local
STORAGE_LOCAL_PATH=/data/uncord/media
STORAGE_S3_ENDPOINT=""
STORAGE_S3_ACCESS_KEY=""
STORAGE_S3_SECRET_KEY=""
STORAGE_S3_BUCKET_ATTACHMENTS="uncord-attachments"
STORAGE_S3_BUCKET_AVATARS="uncord-avatars"
STORAGE_S3_BUCKET_EMOJI="uncord-emoji"

# Upload Limits
MAX_UPLOAD_SIZE_MB=100
MAX_AVATAR_SIZE_MB=8
MAX_AVATAR_DIMENSION=1080
MAX_EMOJI_SIZE_KB=256
MAX_EMOJI_PER_SERVER=200

# Typesense
TYPESENSE_URL="http://typesense:8108"
TYPESENSE_API_KEY="change-me-in-production"

# Gateway
GATEWAY_HEARTBEAT_INTERVAL_MS=45000
GATEWAY_SESSION_TTL_SECONDS=300
GATEWAY_REPLAY_BUFFER_SIZE=1000
GATEWAY_MAX_CONNECTIONS=10000

# Rate Limiting
RATE_LIMIT_API_REQUESTS=60
RATE_LIMIT_API_WINDOW_SECONDS=60
RATE_LIMIT_MSG_COUNT=5
RATE_LIMIT_MSG_WINDOW_SECONDS=5
RATE_LIMIT_MSG_GLOBAL_COUNT=30
RATE_LIMIT_MSG_GLOBAL_WINDOW_SECONDS=60
RATE_LIMIT_UPLOAD_COUNT=10
RATE_LIMIT_UPLOAD_WINDOW_SECONDS=60
RATE_LIMIT_AUTH_COUNT=5
RATE_LIMIT_AUTH_WINDOW_SECONDS=300
RATE_LIMIT_WS_COUNT=120
RATE_LIMIT_WS_WINDOW_SECONDS=60
RATE_LIMIT_PLUGIN_COUNT=120
RATE_LIMIT_PLUGIN_WINDOW_SECONDS=60

# Onboarding
ONBOARDING_REQUIRE_RULES=true
ONBOARDING_REQUIRE_EMAIL_VERIFICATION=true
ONBOARDING_MIN_ACCOUNT_AGE=0
ONBOARDING_REQUIRE_PHONE=false
ONBOARDING_REQUIRE_CAPTCHA=false

# Anti-Abuse
ABUSE_DISPOSABLE_EMAIL_BLOCKLIST_ENABLED=true
ABUSE_EMAIL_DOMAIN_ALLOWLIST=""
ABUSE_EMAIL_DOMAIN_BLOCKLIST=""
ABUSE_AUTO_BAN_SHARED_IP=false
ABUSE_AUTO_BAN_SHARED_DEVICE=false

# Plugins
PLUGIN_EVENT_STREAM="uncord.events"
PLUGIN_API_PORT=9090

# Email (SMTP)
SMTP_HOST=""
SMTP_PORT=587
SMTP_USERNAME=""
SMTP_PASSWORD=""
SMTP_FROM="noreply@chat.example.com"

# Server Limits
MAX_CHANNELS=500
MAX_CATEGORIES=50
MAX_ROLES=250
MAX_MEMBERS=0
MAX_MESSAGE_LENGTH=4000
MAX_GROUP_DM_PARTICIPANTS=10
MESSAGE_RETENTION_DAYS=0

# First-Run Owner
INIT_OWNER_EMAIL="admin@uncord.chat"
INIT_OWNER_PASSWORD="change-me-in-production"
